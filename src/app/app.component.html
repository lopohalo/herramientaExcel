<router-outlet></router-outlet>
<h2>AJUSTES A TABLAS DE INGRESOS Y EGRESOS</h2>
<p class="lead">No Plugins <b>Revision de Codigos y Resumen de cuentas</b></p>

<!-- Upload  -->
<ng-template [ngIf]="validartabla !== 1">
<div class="container">
  <div class="row">
    <div class="col-12">
      <form id="file-upload-form" class="uploader">
        <input id="file-upload" type="file" name="fileUpload" (change)="fileUpload($event)" accept=".xls,.xlsx" />
      
        <label for="file-upload" id="file-drag">
          <img id="file-image" src="#" alt="Preview" class="hidden">
          <div id="start">
            <i class="fa fa-download" aria-hidden="true"></i>
            <div>Por favor seleccione un archivo xls EXCEL</div>
            <div id="notimage" class="hidden">Por favor seleccione un archivo xls EXCEL</div>
            <span id="file-upload-btn" class="btn btn-primary">Seleccione el archivo</span>
          </div>
          <div id="response" class="hidden">
            <div id="messages"></div>
            <progress class="progress" id="file-progress" value="0">
              <span>0</span>%
            </progress>
          </div>
        </label>
      </form>
    </div>
  </div>
</div>
</ng-template>
<ng-template [ngIf]="mostrarBoton == 1">
<div class="container text-center">
  <div class="row">
    <div class="col-12">
      <h1>REPORTES INGRESOS</h1>
    </div>
    <div class="col-12">
      <div class="row">
        <div class="col-6  text-end">
      <button type="button" (click)="ejecutarProgramacion('Programacion')" class="btn btn-outline-primary">Programacion</button>
        </div>
        <div class="col-6 text-start">
      <button type="button" (click)="ejecutarProgramacion('Ejecucion')" class="btn btn-outline-primary">Ejecucion</button>
        </div>
      </div>
    </div>
  </div>
</div>
</ng-template>

<div class="container">
  <div class="row">
    <div class="col-12 mt-5 text-center mb-3"> 
      <div class="row">
        <div class="col-4">
          <button (click)="exportexcel()" class="btn btn-outline-success" type="button">Exportar a Excel</button>
        </div>
        <ng-template [ngIf]="mostrarBoton == 0">
          <div class="col-4">
            <button type="button" (click)="ejecutarResumenIngresos()" class="btn btn-outline-primary">Ejecutar resumen</button>
          </div>
        </ng-template>
        <ng-template [ngIf]="mostrarReporte !== ''">
        <div class="col-8 text-end">
          <h1 class="fs-1">{{mostrarReporte}}</h1>
        </div>
      </ng-template>
      </div>
    </div>
    <ng-template [ngIf]="mostrarReporte == ''">
    <div class="col-12">
      <div style="max-height: 500px; overflow-x: auto; overflow-y: auto;">
      <table id="excel-table" class="table table-bordered border border-3 table-hover">
        <thead>
        <tr>
          <th class="columnas">FUENTE PRESUPUESTAL</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">CODIGO</th>
          <th class="columnas">CONCEPTO</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">APROPIACION INICIAL</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">RECAUDO</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">PRESUPUESTO DEFINITIVO</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">EJECUTAR</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">CPC</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">FUENTES DE FINANCIACION</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">TERCEROS</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">POLITICA PUBLICA</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of datosTabla">
          <td class="columnas">{{item.CONCEPTOPRESUPUESTAL}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.RUBROPRESUPEUSTAL}}</td>
          <td class="columnas">{{item.CONCEPTO}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.APROPIACIONINICIAL}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.RECAUDO}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.PRESUPUESTODEFINITIVO}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.POREJECUTAR}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.CPC}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.FUENTESDEFINANCIACION}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.TERCEROS}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.POLITICAPUBLICA}}</td>
        </tr>
        </tbody>
      </table>
    </div>
    </div>
  </ng-template>
  <ng-template [ngIf]="mostrarReporte == 'Programacion'">
    <div class="col-12">
      <div style="max-height: 500px; overflow-x: auto; overflow-y: auto;">
      <table id="excel-table" class="table table-bordered border border-3 table-hover">
        <thead>
        <tr>
          <th class="columnas"></th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">CODIGO</th>
          <th class="columnas">CONCEPTO</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">APROPIACION INICIAL</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">PRESUPUESTO DEFINITIVO</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of datosTabla">
          <td class="columnas">D</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.RUBROPRESUPEUSTAL}}</td>
          <td class="columnas">{{item.CONCEPTO}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.APROPIACIONINICIAL}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.PRESUPUESTODEFINITIVO}}</td>
        </tr>
        </tbody>
      </table>
    </div>
    </div>
  </ng-template>
  <ng-template [ngIf]="mostrarReporte == 'Ejecucion'">
    <div class="col-12">
      <div style="max-height: 500px; overflow-x: auto; overflow-y: auto;">
      <table id="excel-table" class="table table-bordered border border-3 table-hover">
        <thead>
        <tr>
          <th class="columnas"></th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">CODIGO</th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">CPC</th>
          <th class="columnas">FUENTE PRESUPUESTAL</th>
          <th class="columnas"></th>
          <th class="columnas"></th>
          <th class="columnas"></th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">RECAUDO</th>
          <th class="columnas"></th>
          <th class="columnas"></th>
          <th class="columnas" style="background-color: rgb(155, 155, 229);">RECAUDO</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let item of datosTabla">
          <td class="columnas">D</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.RUBROPRESUPEUSTAL}}</td>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.CPC}}</td>
          <td class="columnas">{{item.CONCEPTOPRESUPUESTAL}}</td>
          <th class="columnas">1</th>
          <th class="columnas">0</th>
          <th class="columnas">0</th>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.RECAUDO}}</td>
          <th class="columnas">0</th>
          <th class="columnas">0</th>
          <td class="columnas" style="background-color: rgb(155, 155, 229);">{{item.RECAUDO}}</td>
        </tr>
        </tbody>
      </table>
    </div>
    </div>
  </ng-template>
  
</div>
</div>